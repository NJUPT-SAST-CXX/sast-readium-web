# 文本转语音

SAST Readium 包含内置的文本转语音 (TTS) 功能，可以朗读 PDF 内容，使文档更易访问并支持免提阅读。

## 概述

TTS 功能使用 Web Speech API 将 PDF 文本转换为语音，支持自定义语音、速度和音量设置。

## 入门

### 启动 TTS

1. 打开 PDF 文档
2. 点击工具栏中的 TTS 按钮（扬声器图标）
3. 或按 ++ctrl+shift+s++
4. 从当前页面开始朗读

### 停止 TTS

- 再次点击 TTS 按钮
- 或按 ++ctrl+shift+s++
- 或按 ++escape++

## 控制

### 播放控制

| 控制          | 操作       |
| ------------- | ---------- |
| **播放/暂停** | 切换朗读   |
| **停止**      | 停止并重置 |
| **上一句**    | 跳到上一句 |
| **下一句**    | 跳到下一句 |

### 朗读进度

- 当前句子高亮显示
- 进度条显示位置
- 页面自动翻页

## 设置

### 语音选择

从可用的系统语音中选择：

1. 打开 TTS 设置
2. 从下拉菜单选择语音
3. 使用"测试"按钮预览

**可用语音：**

- 系统默认
- 特定语言语音
- 男/女选项（因系统而异）

### 速度控制

调整朗读速度：

| 速度  | 描述         |
| ----- | ------------ |
| 0.5x  | 非常慢       |
| 0.75x | 慢           |
| 1.0x  | 正常（默认） |
| 1.25x | 稍快         |
| 1.5x  | 快           |
| 2.0x  | 非常快       |

### 音量控制

调整音量从 0% 到 100%。

### 音调控制

调整语音音调：

- 较低值 = 更低沉的声音
- 较高值 = 更高的声音
- 默认 = 1.0

## 朗读模式

### 页面模式

朗读当前页面，然后停止。

### 连续模式

朗读整个文档：

- 自动翻页
- 继续直到停止
- 暂停时记住位置

### 选择模式

仅朗读选中的文本：

1. 在 PDF 中选择文本
2. 右键 → "朗读"
3. 或使用键盘快捷键

## 高亮显示

### 当前句子

正在朗读的句子会高亮显示：

- 默认黄色背景
- 可自定义高亮颜色
- 自动滚动到视图中

### 单词高亮

可选的逐词高亮：

- 每个单词在朗读时高亮
- 帮助跟随阅读
- 在设置中启用

## 键盘快捷键

| 快捷键           | 操作                    |
| ---------------- | ----------------------- |
| ++ctrl+shift+s++ | 切换 TTS                |
| ++space++        | 暂停/继续（TTS 激活时） |
| ++arrow-left++   | 上一句                  |
| ++arrow-right++  | 下一句                  |
| ++escape++       | 停止 TTS                |
| ++plus++         | 加快速度                |
| ++minus++        | 减慢速度                |

## 语言支持

### 自动检测

TTS 尝试检测文档语言：

- 使用 PDF 元数据
- 回退到内容分析
- 可手动覆盖

### 手动语言选择

1. 打开 TTS 设置
2. 选择语言
3. 选择适当的语音

### 支持的语言

取决于系统语音，通常包括：

- 英语（美国、英国、澳大利亚）
- 中文（普通话、粤语）
- 西班牙语
- 法语
- 德语
- 日语
- 韩语
- 等等...

## 无障碍

### 屏幕阅读器兼容性

TTS 与屏幕阅读器配合使用：

- 宣布状态变化
- 提供 ARIA 标签
- 键盘可访问

### 视觉指示器

- 播放/暂停按钮状态
- 进度指示器
- 当前位置标记

## 最佳实践

### 长文档

1. 使用连续模式
2. 设置舒适的速度
3. 使用书签标记位置
4. 根据需要休息

### 学习

1. 跟随高亮阅读
2. 暂停做笔记
3. 重播困难部分
4. 调整速度以便理解

### 无障碍

1. 测试不同语音
2. 找到舒适的设置
3. 使用键盘快捷键
4. 结合缩放提高可见性

## 故障排除

### 无声音

1. 检查系统音量
2. 验证浏览器权限
3. 尝试不同的语音
4. 刷新页面

### 语言错误

1. 手动选择语言
2. 选择适当的语音
3. 检查 PDF 语言元数据

### 音频断断续续

1. 减少浏览器标签
2. 关闭其他应用程序
3. 尝试更简单的语音
4. 检查系统资源

### 文本不朗读

1. 确保 PDF 有文本层
2. 对扫描文档尝试 OCR
3. 检查文本选择是否有效
4. 验证页面有内容

## 限制

### 当前限制

- 需要 PDF 中有文本层
- 质量取决于系统语音
- 可能会错误发音技术术语
- 格式感知有限

### 浏览器支持

| 浏览器  | 支持 |
| ------- | ---- |
| Chrome  | 完全 |
| Firefox | 完全 |
| Safari  | 完全 |
| Edge    | 完全 |

### 桌面应用

在 Tauri 桌面应用中：

- 使用系统 TTS 引擎
- 可能有不同的语音
- 通常性能更好
