# 注释

SAST Readium 提供全面的注释工具，用于在 PDF 文档上添加高亮、评论、绘图、形状和印章。

## 注释类型

### 高亮

可自定义颜色的文本高亮。

**如何高亮：**

1. 在 PDF 中选择文本
2. 在上下文菜单中点击高亮颜色
3. 或使用工具栏中的高亮工具

**功能：**

- 多种颜色可选
- 自定义颜色选择器
- 高亮跨会话持久化
- 点击选择和编辑

### 评论

在页面任意位置添加文本注释。

**如何添加评论：**

1. 从工具栏选择评论工具
2. 在页面上点击要添加评论的位置
3. 输入评论文本
4. 点击外部保存

**功能：**

- 可放置在页面任意位置
- 可调整大小的评论框
- 随时编辑或删除
- 在注释列表中可见

### 自由绘图

直接在 PDF 页面上绘图。

**如何绘图：**

1. 选择绘图工具
2. 选择笔触颜色和宽度
3. 在页面上绘制
4. 再次点击工具退出绘图模式

**设置：**

- 笔触颜色选择器
- 笔触宽度 (1-20px)
- 橡皮擦工具可用

### 形状

插入几何形状。

**可用形状：**

- 矩形
- 圆形/椭圆
- 箭头
- 直线

**如何添加形状：**

1. 从工具栏选择形状类型
2. 在页面上点击并拖动
3. 释放完成形状
4. 调整大小和位置

### 文本注释

直接在页面上添加文本框。

**如何添加文本：**

1. 选择文本注释工具
2. 在页面上点击
3. 输入文本
4. 根据需要格式化

### 印章

预定义或自定义印章。

**内置印章：**

- 已批准
- 已拒绝
- 机密
- 草稿
- 最终版

**如何添加印章：**

1. 选择印章工具
2. 选择印章类型
3. 在页面上点击放置

## 注释工具栏

注释工具栏提供所有工具的快速访问：

```text
┌─────────────────────────────────────────────────────────────┐
│ [高亮] [评论] [绘图] [形状 ▼] [印章 ▼] [签名]               │
│ [颜色 ▼] [宽度 ▼] [撤销] [重做] [清除全部]                  │
└─────────────────────────────────────────────────────────────┘
```

## 颜色选择器

### 预设颜色

快速访问常用颜色：

- 黄色（默认高亮）
- 绿色
- 蓝色
- 粉色
- 橙色
- 红色
- 紫色

### 自定义颜色

1. 在颜色选择器中点击"自定义"
2. 使用色轮或输入十六进制代码
3. 最近使用的颜色会被保存

## 撤销/重做

完整的注释操作历史支持。

| 操作 | 快捷键                         |
| ---- | ------------------------------ |
| 撤销 | ++ctrl+z++                     |
| 重做 | ++ctrl+y++ 或 ++ctrl+shift+z++ |

**历史功能：**

- 最多 50 步撤销
- 会话期间持久化
- 清除历史选项

## 注释列表

在一个地方查看所有注释。

**访问：**

1. 点击侧边栏中的注释图标
2. 或按 ++ctrl+shift+a++

**功能：**

- 按页面分组
- 点击导航到注释
- 从列表编辑或删除
- 按类型筛选
- 按日期或页面排序

## 编辑注释

### 选择注释

- 点击任意注释选择它
- 出现选择手柄用于调整大小
- 拖动重新定位

### 编辑属性

1. 选择注释
2. 右键打开上下文菜单
3. 或使用属性面板

**可编辑属性：**

- 颜色
- 透明度
- 大小/位置
- 内容（用于评论）

### 删除注释

- 选择后按 ++delete++
- 或右键 → 删除
- 或使用注释列表

## 键盘快捷键

| 快捷键     | 操作         |
| ---------- | ------------ |
| ++h++      | 高亮工具     |
| ++c++      | 评论工具     |
| ++d++      | 绘图工具     |
| ++escape++ | 取消选择工具 |
| ++ctrl+z++ | 撤销         |
| ++ctrl+y++ | 重做         |
| ++delete++ | 删除选中     |

## 持久化

### 本地存储

注释自动保存到浏览器存储：

- 按文档保存（通过 URL/路径）
- 跨会话持久化
- 无需服务器

### 导出选项

导出注释以便分享：

- **JSON**: 完整注释数据
- **摘要**: 仅文本导出

## 最佳实践

### 组织注释

1. 使用一致的颜色分类
2. 添加描述性评论
3. 使用印章跟踪状态
4. 定期查看注释列表

### 协作提示

1. 导出注释以分享
2. 使用清晰、描述性的评论
3. 为重要笔记添加日期戳
4. 使用印章进行审批工作流

## 限制

### 当前限制

- 注释存储在本地（不在 PDF 文件中）
- 无实时协作
- 导出不修改原始 PDF

### 计划功能

- PDF 注释嵌入
- 云同步
- 协作注释
- 注释模板
