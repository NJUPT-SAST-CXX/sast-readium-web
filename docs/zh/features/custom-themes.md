# 自定义主题

SAST Readium 允许您创建、自定义和分享颜色主题，获得个性化的阅读体验。

## 主题系统

### 内置主题

应用包含三个基础主题：

| 主题       | 描述                   |
| ---------- | ---------------------- |
| **明亮**   | 默认明亮主题，白色背景 |
| **暗黑**   | 暗黑模式，减少眼睛疲劳 |
| **棕褐色** | 暖色调，舒适阅读       |

### 自定义主题

创建您自己的主题，完全控制 35+ 颜色变量。

## 创建自定义主题

### 从设置创建

1. 打开设置 (++ctrl+comma++ 或齿轮图标)
2. 导航到"自定义主题"标签
3. 点击"创建新主题"
4. 配置颜色和设置
5. 点击"保存"

### 从预设创建

1. 打开自定义主题设置
2. 点击"预设"下拉菜单
3. 选择一个预设主题
4. 根据需要自定义
5. 用新名称保存

## 主题编辑器

### 基本设置

| 设置     | 描述              |
| -------- | ----------------- |
| **名称** | 主题显示名称      |
| **描述** | 可选描述          |
| **圆角** | 边角圆度 (0-1rem) |

### 颜色类别

#### 背景颜色

- `background` - 主背景
- `foreground` - 主文本颜色
- `card` - 卡片/面板背景
- `card-foreground` - 卡片文本颜色
- `popover` - 弹出框背景
- `popover-foreground` - 弹出框文本

#### 主要颜色

- `primary` - 主要操作颜色
- `primary-foreground` - 主要颜色上的文本

#### 次要颜色

- `secondary` - 次要元素
- `secondary-foreground` - 次要颜色上的文本

#### 强调颜色

- `accent` - 强调高亮
- `accent-foreground` - 强调颜色上的文本

#### 语义颜色

- `destructive` - 错误/危险操作
- `destructive-foreground` - 危险颜色上的文本
- `muted` - 静音/禁用元素
- `muted-foreground` - 静音文本

#### UI 颜色

- `border` - 边框颜色
- `input` - 输入框边框
- `ring` - 焦点环颜色

### 颜色选择器

颜色选择器支持：

- **HSL 滑块** - 色相、饱和度、亮度
- **十六进制输入** - 直接输入十六进制代码
- **RGB 输入** - 红、绿、蓝值
- **取色器** - 从屏幕取色

## 预设主题

### 海洋蓝

冷蓝色调，平静的阅读体验。

```css
--primary: 210 100% 50%;
--background: 210 50% 98%;
--accent: 200 100% 45%;
```

### 森林绿

自然绿色调色板，灵感来自大自然。

```css
--primary: 142 76% 36%;
--background: 140 30% 98%;
--accent: 160 84% 39%;
```

### 玫瑰粉

温暖的粉色强调，柔和外观。

```css
--primary: 346 77% 50%;
--background: 350 50% 98%;
--accent: 330 80% 60%;
```

### 午夜紫

深紫色主题，适合夜间阅读。

```css
--primary: 270 70% 50%;
--background: 270 30% 10%;
--accent: 280 80% 60%;
```

### 日落橙

温暖的橙色调，让人联想到日落。

```css
--primary: 25 95% 53%;
--background: 30 50% 98%;
--accent: 15 90% 55%;
```

## 管理主题

### 编辑主题

1. 从列表选择主题
2. 点击"编辑"按钮
3. 修改设置
4. 点击"保存"

### 复制主题

1. 选择要复制的主题
2. 点击"复制"
3. 重命名副本
4. 根据需要自定义

### 删除主题

1. 选择主题
2. 点击"删除"
3. 确认删除

!!! warning
删除的主题无法恢复。删除前请导出重要主题。

## 导入/导出

### 导出主题

与他人分享您的主题：

1. 选择要导出的主题
2. 点击"导出"
3. 保存 JSON 文件

**导出格式：**

```json
{
  "version": 1,
  "exportedAt": 1699999999999,
  "themes": [
    {
      "id": "theme-123",
      "name": "我的自定义主题",
      "description": "一个漂亮的自定义主题",
      "colors": {
        "background": "0 0% 100%",
        "foreground": "222.2 84% 4.9%",
        "primary": "221.2 83.2% 53.3%"
      },
      "radius": 0.5,
      "createdAt": 1699999999999,
      "updatedAt": 1699999999999
    }
  ]
}
```

### 导入主题

从文件加载主题：

1. 点击"导入"
2. 选择 JSON 文件
3. 选择要导入的主题
4. 点击"导入选中"

## 应用主题

### 快速应用

1. 打开工具栏中的主题下拉菜单
2. 选择自定义主题
3. 主题立即应用

### 设为默认

1. 应用主题
2. 打开设置
3. 启用"用作默认主题"

### 自动主题

自定义主题与自动主题检测配合使用：

- 明亮模式使用明亮自定义主题
- 暗黑模式使用暗黑自定义主题

## 最佳实践

### 无障碍

- 确保足够的对比度
- 使用色盲模拟器测试
- 保持可读的文本大小

### 一致性

- 使用相关颜色保持和谐
- 保持语义颜色有意义
- 测试所有 UI 元素

### 分享

- 包含描述性名称
- 添加描述提供上下文
- 在不同设备上测试

## 故障排除

### 主题未应用

1. 清除浏览器缓存
2. 刷新页面
3. 重新选择主题

### 颜色看起来不对

1. 检查颜色格式 (HSL)
2. 验证对比度
3. 在不同模式下测试

### 导入失败

1. 验证 JSON 格式
2. 检查版本兼容性
3. 验证颜色值
